{"version":3,"file":"events_frontend.js","mappings":"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","sources":["webpack://tmy/./blocks/events/events_frontend.js"],"sourcesContent":["let throttlePause = false\nconst throttle = (callback, time) => {\n  if (throttlePause) return\n  throttlePause = true\n  setTimeout(() => {\n    callback()\n    throttlePause = false\n  }, time)\n}\nconst eventsScrollAnimation = (workbox) => {\n  const circleLength = workbox.querySelector(\"#circle\").getTotalLength()\n  const tspans = Array.from(workbox.querySelectorAll('tspan'))\n  const widthOfTspans = tspans.map((tspan) => tspan.getComputedTextLength() + Number(tspan.getAttribute('dx')))\n  const tspanOffsets = widthOfTspans.map((_, i) => widthOfTspans.slice(0, i + 1).reduce((acc, item) => acc + item, 0))\n  tspanOffsets.unshift(0)\n  tspanOffsets.pop()\n  document.addEventListener('scroll', () => {\n    throttle(() => {\n      Array.from(document.querySelectorAll('.event-single-wrapper')).forEach((myElement, index) => {\n        if (myElement) {\n          if (\n            myElement.getBoundingClientRect().top < window.scrollY + window.innerHeight\n            && window.scrollY < window.pageYOffset + myElement.getBoundingClientRect().top + myElement.clientHeight\n          ) {\n            if (myElement.getBoundingClientRect().top - Number(window.getComputedStyle(myElement).top.replace(/px/g, '')) <= 100) {\n              Array.from(document.querySelectorAll('.events-text')).map((t) => t.classList.add('hidden'))\n              document.querySelectorAll('.events-text')[index].classList.remove('hidden')\n              const rotateTo = (tspanOffsets[index] + (widthOfTspans[index]) / 2) / circleLength * 360\n              document.querySelector('.events .events-workbox svg').style.transform = `rotate(${(rotateTo * -1) + 90}deg)`\n              tspans.forEach((tspan) => {\n                tspan.setAttribute('fill', \"black\")\n              })\n              tspans[index].setAttribute('fill', \"#CB8E00\")\n            }\n          }\n        }\n      })\n    }, 10)\n  })\n}\n\nconst observer = new MutationObserver((mutations, mutationInstance) => {\n  const someDiv = document.querySelector('.events-workbox')\n  if (someDiv) {\n    eventsScrollAnimation(someDiv)\n    mutationInstance.disconnect()\n  }\n})\n\nobserver.observe(document, {\n  childList: true,\n  subtree: true,\n})\n"],"names":["throttlePause","throttle","callback","time","setTimeout","eventsScrollAnimation","workbox","circleLength","querySelector","getTotalLength","tspans","Array","from","querySelectorAll","widthOfTspans","map","tspan","getComputedTextLength","Number","getAttribute","tspanOffsets","_","i","slice","reduce","acc","item","unshift","pop","document","addEventListener","forEach","myElement","index","getBoundingClientRect","top","window","scrollY","innerHeight","pageYOffset","clientHeight","getComputedStyle","replace","t","classList","add","remove","rotateTo","style","transform","setAttribute","observer","MutationObserver","mutations","mutationInstance","someDiv","disconnect","observe","childList","subtree"],"sourceRoot":""}