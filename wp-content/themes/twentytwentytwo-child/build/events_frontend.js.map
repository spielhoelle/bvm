{"version":3,"file":"events_frontend.js","mappings":"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","sources":["webpack://tmy/./blocks/events/events_frontend.js"],"sourcesContent":["let throttlePause = false\nconst throttle = (callback, time) => {\n  if (throttlePause) return\n  throttlePause = true\n  setTimeout(() => {\n    callback()\n    throttlePause = false\n  }, time)\n}\nconst eventsScrollAnimation = (workbox) => {\n  const circleLength = workbox.querySelector(\"#circle\").getTotalLength()\n  const tspans = Array.from(workbox.querySelectorAll('tspan'))\n  const widthOfTspans = tspans.map((tspan) => tspan.getComputedTextLength())\n  const tspanOffsets = widthOfTspans.map((_, i) => widthOfTspans.slice(0, i + 1).reduce((acc, item) => acc + item, 0))\n  tspanOffsets.unshift(0)\n  tspanOffsets.pop()\n  document.addEventListener('scroll', () => {\n    throttle(() => {\n      Array.from(document.querySelectorAll('.event-single-wrapper')).forEach((myElement, index) => {\n        if (myElement) {\n          if (\n            myElement.getBoundingClientRect().top < window.scrollY + window.innerHeight\n            && window.scrollY < window.pageYOffset + myElement.getBoundingClientRect().top + myElement.clientHeight\n          ) {\n            // console.log('myElement.getBoundingClientRect().top', myElement.querySelector('.event-single-text h5').innerHTML, myElement.getBoundingClientRect().top);\n            if (myElement.getBoundingClientRect().top <= 100) {\n              Array.from(document.querySelectorAll('.events-text')).map((t) => t.classList.add('hidden'))\n              document.querySelectorAll('.events-text')[index].classList.remove('hidden')\n              const rotateTo = (tspanOffsets[index] + ( widthOfTspans[index]) / 2 ) / circleLength * 360\n              document.querySelector('.events .events-workbox svg').style.transform = `rotate(${(rotateTo * -1) + 90}deg)`\n              tspans.forEach((tspan) => {\n                tspan.setAttribute('fill', \"black\")\n              })\n              tspans[index].setAttribute('fill', \"#CB8E00\")\n            }\n          }\n        }\n      })\n    }, 10)\n  })\n}\n\nconst observer = new MutationObserver((mutations, mutationInstance) => {\n  const someDiv = document.querySelector('.events-workbox')\n  if (someDiv) {\n    eventsScrollAnimation(someDiv)\n    mutationInstance.disconnect()\n  }\n})\n\nobserver.observe(document, {\n  childList: true,\n  subtree: true,\n})\n"],"names":["throttlePause","throttle","callback","time","setTimeout","eventsScrollAnimation","workbox","circleLength","querySelector","getTotalLength","tspans","Array","from","querySelectorAll","widthOfTspans","map","tspan","getComputedTextLength","tspanOffsets","_","i","slice","reduce","acc","item","unshift","pop","document","addEventListener","forEach","myElement","index","getBoundingClientRect","top","window","scrollY","innerHeight","pageYOffset","clientHeight","t","classList","add","remove","rotateTo","style","transform","setAttribute","observer","MutationObserver","mutations","mutationInstance","someDiv","disconnect","observe","childList","subtree"],"sourceRoot":""}