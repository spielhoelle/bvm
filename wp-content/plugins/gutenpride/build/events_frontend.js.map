{"version":3,"file":"events_frontend.js","mappings":"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","sources":["webpack://tmy/./blocks/events/events_frontend.js"],"sourcesContent":["function docReady(fn) {\n  // see if DOM is already available\n  if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\n    // call on next available tick\n    setTimeout(fn, 1);\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n\nlet throttlePause = false\nconst throttle = (callback, time) => {\n  if (throttlePause) return\n\n  throttlePause = true\n  setTimeout(() => {\n    callback()\n    throttlePause = false\n  }, time)\n}\n\ndocReady(() => {\n  const workbox = document.querySelector('.workbox')\n  const circleLength = workbox.querySelector(\"#circle\").getTotalLength()\n  const tspans = Array.from(workbox.querySelectorAll('tspan'))\n  const widthOfTspans = tspans.map((tspan) => tspan.getComputedTextLength())\n  const tspanOffsets = widthOfTspans.map((_, i) => widthOfTspans.slice(0, i + 1).reduce((acc, item) => acc + item, 0))\n  tspanOffsets.unshift(0)\n  tspanOffsets.pop()\n  document.addEventListener('scroll', () => {\n    throttle(() => {\n      Array.from(document.querySelectorAll('.event-single-wrapper')).map((myElement, index) => {\n        if (myElement) {\n          if (\n            myElement.getBoundingClientRect().top < window.scrollY + window.innerHeight\n            && window.scrollY < window.pageYOffset + myElement.getBoundingClientRect().top + myElement.clientHeight\n          ) {\n            console.log('myElement.getBoundingClientRect().top', myElement.querySelector('.event-single-text h5').innerHTML, myElement.getBoundingClientRect().top);\n            if (myElement.getBoundingClientRect().top <= 100) {\n              \n              Array.from(document.querySelectorAll('.events-text')).map(t => t.classList.add('hidden'))\n              document.querySelectorAll('.events-text')[index].classList.remove('hidden')\n              const rotateTo = (tspanOffsets[index] + widthOfTspans[index] / 2) / circleLength * 360\n              document.querySelector('.events .workbox svg').style.transform = `rotate(${(rotateTo * -1) + 90}deg)`\n              tspans.map((tspan) => {\n                tspan.setAttribute('fill', \"black\")\n              })\n              tspans[index].setAttribute('fill', \"#CB8E00\")\n            }\n          }\n        }\n      })\n    }, 10)\n  })\n})"],"names":["docReady","fn","document","readyState","setTimeout","addEventListener","throttlePause","throttle","callback","time","workbox","querySelector","circleLength","getTotalLength","tspans","Array","from","querySelectorAll","widthOfTspans","map","tspan","getComputedTextLength","tspanOffsets","_","i","slice","reduce","acc","item","unshift","pop","myElement","index","getBoundingClientRect","top","window","scrollY","innerHeight","pageYOffset","clientHeight","console","log","innerHTML","t","classList","add","remove","rotateTo","style","transform","setAttribute"],"sourceRoot":""}